{"version":3,"sources":["../../src/connect-wrapper.js"],"names":["link","connect","linkSetter","ReactComponent","stateToProps","state","ownProps","linkConfig","Object","entries","reduce","stateProps","propName","lens","dispatchToProps","dispatch","set"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;AAEO,IAAMA,IAAI,GAAG,SAAPA,IAAO,CAAAC,OAAO;AAAA,SAAI,UAAAC,UAAU;AAAA,WAAI,UAAAC,cAAc,EAAI;AAC7D,UAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,QAAR,EAAqB;AACxC,YAAMC,UAAU,GAAG,sBAAUL,UAAV,EAAsBI,QAAtB,CAAnB;AAEA,eAAOE,MAAM,CAACC,OAAP,CAAeF,UAAf,EAA2BG,MAA3B,CACL,UAACC,UAAD;AAAA;AAAA,cAAcC,QAAd;AAAA,cAAwBC,IAAxB;;AAAA,mCACKF,UADL,sBAEGC,QAFH,EAEc,gBAAIC,IAAJ,EAAUR,KAAV,CAFd;AAAA,SADK,EAKL,EALK,CAAP;AAOD,OAVD;;AAYA,UAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,QAAQ;AAAA,eAAK;AACnCC,UAAAA,GAAG,EAAE;AAAA,mBAAaD,QAAQ,CAACC,mCAAD,CAArB;AAAA;AAD8B,SAAL;AAAA,OAAhC;;AAIA,aAAOf,OAAO,CAACG,YAAD,EAAeU,eAAf,CAAP,CAAuCX,cAAvC,CAAP;AACD,KAlBwC;AAAA,GAAd;AAAA,CAApB","sourcesContent":["import { set, get } from './index'\nimport { runIfFunc } from './utils'\n\nexport const link = connect => linkSetter => ReactComponent => {\n  const stateToProps = (state, ownProps) => {\n    const linkConfig = runIfFunc(linkSetter, ownProps)\n\n    return Object.entries(linkConfig).reduce(\n      (stateProps, [propName, lens]) => ({\n        ...stateProps,\n        [propName]: get(lens, state)\n      }),\n      {}\n    )\n  }\n\n  const dispatchToProps = dispatch => ({\n    set: (...args) => dispatch(set(...args))\n  })\n\n  return connect(stateToProps, dispatchToProps)(ReactComponent)\n}\n"],"file":"connect-wrapper.js"}